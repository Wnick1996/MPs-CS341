Script started on 2021-11-06 17:24:54-04:00 [TERM="linux" TTY="/dev/pts/11" COLUMNS="80" LINES="25"]
nick1996@pe15:~$ exitscript[2Pexitcat strncpy.s[4Pstrncpy.scat strycopy.s[1Ppy.sprintbin.s[Kmakefile.[K[2Ppwddwpls -lgalmake clean[3@ls [C[C[C[C[C[C[C[C[C[Cmake A=strncpyprintbincd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake A=printbin[Kexit[Kmake A=printbin[1Pstrncpyprintbinastebincd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cgdb count.lnx[K[7Pscript[2Pexitmake A=countcd /courses/cs341/f21/cheungr/nick1996/mp2/part1[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cexit[Kcd /courses/cs341/f21/cheungr/nick1996/mp2/part1[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake A=count[Kcd /courses/cs341/f21/cheungr/nick1996/mp2/part1[K2+4[K3
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ cd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cexit[K
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cscript[2Pexitcat strncpy.s[4Pstrncpy.scat strycopy.s[1Ppy.sprintbin.s[Kmakefile.[K[2Ppwdcat .makefile.[K[2Ppwddwpls -lgalmake clean[3@ls [C[C[C[C[C[C[C[C[C[Cmake A=strncpyprintbincd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[2Pmake A=printbin
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cexit[Kmake A=printbin
as --32 -o printbin.o printbin.s
printbin.s: Assembler messages:
printbin.s: Warning: end of file not at end of a line; newline inserted
gcc -gdwarf-2 -gstrict-dwarf -march=i586 -m32 -fno-builtin -fno-stack-protector -nostdlib     -c -Wall -I/home/cheungr/serl/tutor-linux/include -c -o printbinc.o printbinc.c
ld -m elf_i386 -N -Ttext 100100 -o printbin.lnx \
	/home/cheungr/serl/tutor-linux/libc/startup0.o /home/cheungr/serl/tutor-linux/libc/startup.o \
	printbinc.o printbin.o /home/cheungr/serl/tutor-linux/libc/libc.a
rm -f syms;nm -n printbin.lnx>printbin.syms;ln -s printbin.syms syms
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ make A=printbincd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cexit[K
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cscript[2Pexitcat strncpy.s[4Pstrncpy.scat strycopy.s[1Ppy.sprintbin.s[Kmakefile.[K[2Ppwddwpls -lgalmake clean[3@ls [C[C[C[C[C[C[C[C[C[Cmake A=strncpyprintbincd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[2Pmake A=printbin
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1Pstrncpy
as --32 -o strncpy.o strncpy.s
strncpy.s: Assembler messages:
strncpy.s: Warning: end of file not at end of a line; newline inserted
gcc -gdwarf-2 -gstrict-dwarf -march=i586 -m32 -fno-builtin -fno-stack-protector -nostdlib     -c -Wall -I/home/cheungr/serl/tutor-linux/include -c -o strncpyc.o strncpyc.c
ld -m elf_i386 -N -Ttext 100100 -o strncpy.lnx \
	/home/cheungr/serl/tutor-linux/libc/startup0.o /home/cheungr/serl/tutor-linux/libc/startup.o \
	strncpyc.o strncpy.o /home/cheungr/serl/tutor-linux/libc/libc.a
rm -f syms;nm -n strncpy.lnx>strncpy.syms;ln -s strncpy.syms syms
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ make A=strncpyprintbincd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cexit[K
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cscript[2Pexitcat strncpy.s[4Pstrncpy.scat strycopy.s[1Ppy.sprintbin.s[Kmakefile.[K[2Ppwddwpls -lgalmake clean[3@ls [C[C[C[C[C[C[C[C[C[Cmake A=strncpyprintbincd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[2Pmake A=printbin
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cexit[Kmake A=printbin[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kpo[Kd[Kwd
/courses/cs341/f21/cheungr/nick1996/mp2/part2+3
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ pwdmake A=strncpyprintbincd /courses/cs341/f21/cheungr/nick1996/mp2/part2+3[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cexit[K
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cscript[2Pexitcat strncpy.s[4Pstrncpy.scat strycopy.s[1Ppy.sprintbin.s[Kmakefile.[K[2Ppwddwpls -lgalmake clean[4Pls -allgalmake clean[3@ls [C[C[C[C[C[C[C[C[C[C[3P[C[C[C[C[C[C[C[C[C[C[3@ls [C[C[C[C[C[C[C[C[C[C[3P[C[C[C[C[C[C[C[C[C[C[4Pls -allgal
total 124
drwxrwsr-x 2 nick1996 cs341-1G  4096 Nov  6 17:25 .
drwxrwsr-x 5 nick1996 cs341-1G  4096 Nov  3 12:39 ..
-rw-r--r-- 1 nick1996 cs341-1G  2082 Aug 15  2020 makefile
-rw-r--r-- 1 nick1996 cs341-1G   432 Aug 15  2020 printbinc.c
-rw-r--r-- 1 nick1996 cs341-1G  6432 Nov  6 17:25 printbinc.o
-rwxr-xr-x 1 nick1996 cs341-1G 30600 Nov  6 17:25 printbin.lnx
-rw-r--r-- 1 nick1996 cs341-1G   716 Nov  6 17:25 printbin.o
-rw-r--r-- 1 nick1996 cs341-1G   842 Nov  6 17:03 printbin.s
-rw-r--r-- 1 nick1996 cs341-1G  1095 Nov  6 17:25 printbin.syms
-rw-r--r-- 1 nick1996 cs341-1G   926 Aug 15  2020 strncpyc.c
-rw-r--r-- 1 nick1996 cs341-1G  7084 Nov  6 17:25 strncpyc.o
-rwxr-xr-x 1 nick1996 cs341-1G 31620 Nov  6 17:25 strncpy.lnx
-rw-r--r-- 1 nick1996 cs341-1G   548 Nov  6 17:25 strncpy.o
-rw-r--r-- 1 nick1996 cs341-1G   516 Nov  5 12:38 strncpy.s
-rw-r--r-- 1 nick1996 cs341-1G  1057 Nov  6 17:25 strncpy.syms
lrwxrwxrwx 1 nick1996 cs341-1G    12 Nov  6 17:25 syms -> strncpy.syms
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ ls -al[3Ppwdmake A=strncpypwd[Kls -al[K[Kls[Kg
total 116
-rw-r--r-- 1 cs341-1G  2082 Aug 15  2020 makefile
-rw-r--r-- 1 cs341-1G   432 Aug 15  2020 printbinc.c
-rw-r--r-- 1 cs341-1G  6432 Nov  6 17:25 printbinc.o
-rwxr-xr-x 1 cs341-1G 30600 Nov  6 17:25 printbin.lnx
-rw-r--r-- 1 cs341-1G   716 Nov  6 17:25 printbin.o
-rw-r--r-- 1 cs341-1G   842 Nov  6 17:03 printbin.s
-rw-r--r-- 1 cs341-1G  1095 Nov  6 17:25 printbin.syms
-rw-r--r-- 1 cs341-1G   926 Aug 15  2020 strncpyc.c
-rw-r--r-- 1 cs341-1G  7084 Nov  6 17:25 strncpyc.o
-rwxr-xr-x 1 cs341-1G 31620 Nov  6 17:25 strncpy.lnx
-rw-r--r-- 1 cs341-1G   548 Nov  6 17:25 strncpy.o
-rw-r--r-- 1 cs341-1G   516 Nov  5 12:38 strncpy.s
-rw-r--r-- 1 cs341-1G  1057 Nov  6 17:25 strncpy.syms
lrwxrwxrwx 1 cs341-1G    12 Nov  6 17:25 syms -> strncpy.syms
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ cat printbin.s
#printbin.s
#Nick Williams
#11/03/2021

.text
.global printbin

printbin:
	pushl %ebp
	movl %esp, %ebp
	movb 8(%ebp), %al   # get the input of 2 hex letters
	movl $string, %edx
	call donibble	 	# call donibble
	movl $' ', (%edx) 	# spaces the string
	incl %edx			# increment edx pointer
	call donibble
	movl $string, %eax	# creates return value in %eax
	movl %ebp, %esp		# delete stack frame
	popl %ebp
	ret					# call back to caller
donibble:
	movl $4, %ecx		# loop four times
loopfork:
	shlb $1, %al			# shift the msb to carry flag
	jc loopa			# if the flag is not set
	movb $'0', (%edx)	# increment string with ascii 0
	jmp loopb			# else
loopa:
	movb $'1', (%edx)	# increment string with ascii 1
loopb:	
	incl %edx			# increment pointer to string
	loop loopfork
	ret
	.data
string:
	.asciz "xxxx xxxx\n"nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ cat printbin.s[8Pls -lgallgcat printbin.s[1P.s[1P.s[1P.s[1P.s[1P.s[1P.s[1P.s[1P.ss.st.sr.sn.ss.s[1P.sc.sp.so.s[1P.sy.s
#strcpy.s
#Nick Williams
#11/3/2021

	.text
	.global mystrncpy
mystrncpy:
	pushl %ebp 			#creating a stack fram
	movl %esp, %ebp 	#set esp to ebp register
	movl 8(%ebp), %ecx  #setting variable "s"
	movl 12(%ebp), %edx #setting variable "ct"
    movl 16(%ebp), %edi #setting variable "n"
str:    
	movb (%edx), %al
	movb %al, (%ecx)
	incl %ecx
	incl %edx
	decl %edi
	cmpb $0, %al
	jz endline
	cmpl $0, %edi
	jnz str
endline:
	movl 8(%ebp), %eax 
	mov %ebp, %esp
    popl %ebp
    ret
	.endnick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ cat makefile
# makefile: makefile for assembly-language examples
# 
# Assumes a matched pair of sources, e.g., myprog.s and myprogc.c,
# an assembler source for a function and its C driver.

# Usage: For an assembler source, say myprog.s, with a corresponding 
#  C driver myprogc.c, set A to the basename in the make command line: 
#
#  "make A=myprog myprog.lnx" or just "make A=myprog"
#
#  (since $(A).lnx is the first make target)
#  Then myprog.lnx is ready for downloading via "mtip -f myprog.lnx"
#  (followed by ~r and ~d inside the mtip program)

# also "make clean" to clean up non-source files in a directory
# All UNIX tools from ulab had been moved to LINUX by
#
#     Ron Cheung (2/28/2020)
#
# Here the assembler program has the primary source name,
# the C program is just a driver of almost the same basename:
C = $(A)c

# system directories needed for compilers, libraries, header files--
SAPC_TOOLS = /home/cheungr/serl/tutor-linux
PC_LIB = $(SAPC_TOOLS)/libc
PC_INC = $(SAPC_TOOLS)/include


CC    = gcc
CFLAGS  = -gdwarf-2 -gstrict-dwarf -march=i586 -m32 -fno-builtin -fno-stack-protector -nostdlib     -c -Wall -I$(PC_INC)
AS    = as --32
NM    = nm
LD    = ld -m elf_i386


# File suffixes:
# .c	C source (often useful both for UNIX host and SAPC)
# .s 	assembly language source
# .o  relocatable machine code, initialized data, etc., for SA PC
# .lnx  executable image (bits as in memory), for SA PC (Linux a.out format)
# .syms text file of .lnx's symbols and their values (the "symbol table")
# Symbol file "syms"--for most recently built executable in directory

# PC executable--tell ld to start code at 0x100100, load special startup
# module, special PC C libraries--

$(A).lnx: $(A).o $(C).o 
	$(LD) -N -Ttext 100100 -o $(A).lnx \
		$(PC_LIB)/startup0.o $(PC_LIB)/startup.o \
		$(C).o $(A).o $(PC_LIB)/libc.a
	rm -f syms;$(NM) -n $(A).lnx>$(A).syms;ln -s $(A).syms syms

$(A).o: $(A).s
	$(AS) -o $(A).o $(A).s

# tell gcc to use $(PC_INC) for #include <...> headers--
$(C).o: $(C).c
	$(CC) $(CFLAGS) -c -o $(C).o $(C).c
	
clean:
	rm -f *.o *.syms *.lnx core syms
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ exi[K[K[Kls
makefile     printbin.lnx  printbin.syms  strncpy.lnx  strncpy.syms
printbinc.c  printbin.o    strncpyc.c	  strncpy.o    syms
printbinc.o  printbin.s    strncpyc.o	  strncpy.s
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ cat printbin.syms [A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ks
00100100 T _start
00100110 T _startupc
0010013c T __x86.get_pc_thunk.bx
00100140 T main
001001c3 T printbin
001001e8 t donibble
001001ed t loopfork
001001f6 t loopa
001001f9 t loopb
001001fd T breakpoint
001001ff T clr_bss
00100211 T printf
00100250 T __x86.get_pc_thunk.ax
00100254 T scanf
0010029d t getch
001002fa t ungetch
00100321 T init_devio
00100342 T init
001003bb T rawputc
00100453 t delay
00100480 T putc
001005b0 T rawgetc
0010063d T getc
001006b0 T readyc
0010073d T devcontrol
001007d0 T devdescript
00100860 T devname
001008e3 T __x86.get_pc_thunk.cx
001008e7 T _doscan
00100b64 t _innum
00100dd2 t _instr
00100f25 t _getccl
00100fdf T __x86.get_pc_thunk.si
00100fe3 T _fdoprnt
001011a0 t .L27
001011c2 t .L24
001011e8 t .L26
00101219 t .L23
00101271 t .L25
0010129c t .L29
001012c4 t .L21
001012ec t .L28
00101314 t .L20
0010147c t _prtl10
00101528 t _prtl8
001015bb t _prtl16
0010164c t _prtX16
001016dd t _prtl2
00101cc4 d _GLOBAL_OFFSET_TABLE_
00101ce0 d string
00101d00 D _sctab
00101d80 D _ctype_
00101e01 B __bss_start
00101e01 D _edata
00101e04 B sysapi2
00101e08 B _end
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ cat strncpy.syms
00100100 T _start
00100110 T _startupc
0010013c T __x86.get_pc_thunk.bx
00100140 T main
0010025f T mystrncpy
0010026b t str
0010027b t endline
00100282 T breakpoint
00100284 T clr_bss
00100296 T printf
001002d5 T __x86.get_pc_thunk.ax
001002d9 T strncmp
00100345 T scanf
0010038e t getch
001003eb t ungetch
00100412 T init_devio
00100433 T init
001004ac T rawputc
00100544 t delay
00100571 T putc
001006a1 T rawgetc
0010072e T getc
001007a1 T readyc
0010082e T devcontrol
001008c1 T devdescript
00100951 T devname
001009d4 T __x86.get_pc_thunk.cx
001009d8 T _doscan
00100c55 t _innum
00100ec3 t _instr
00101016 t _getccl
001010d0 T __x86.get_pc_thunk.si
001010d4 T _fdoprnt
00101291 t .L27
001012b3 t .L24
001012d9 t .L26
0010130a t .L23
00101362 t .L25
0010138d t .L29
001013b5 t .L21
001013dd t .L28
00101405 t .L20
0010156d t _prtl10
00101619 t _prtl8
001016ac t _prtl16
0010173d t _prtX16
001017ce t _prtl2
00101ee8 d _GLOBAL_OFFSET_TABLE_
00101f00 D _sctab
00101f80 D _ctype_
00102001 B __bss_start
00102001 D _edata
00102004 B sysapi2
00102008 B _end
nick1996@pe15:/courses/cs341/f21/cheungr/nick1996/mp2/part2+3$ exit
exit

Script done on 2021-11-06 17:28:59-04:00 [COMMAND_EXIT_CODE="0"]
